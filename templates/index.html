= extends 'layout.html'
= block title
	Home
= endblock
= block head
	{{ helpers.asset_tag('maps.locationpicker.js') }}
	<script>
		$(window).load(function() {
			locationPicker($('iframe')[0]);
			var $mapContainer = $('.map-container'),
				$venueContainer = $('#venue-container');

			function resizeMap() {
				var mapHeight = $mapContainer.outerHeight()
					venueHeight = $venueContainer.outerHeight();
				if (mapHeight != venueHeight) {
					$mapContainer.css('height', venueHeight);
				}
			}

			$(window).resize(resizeMap);
			resizeMap();
			$("#venue-form").hide();
			$("#venue-form").css('position', 'static');
		})
		$(document).ready(function(){
			$('#venue-form input[type=checkbox]').change(function() {
				$(this).parent().toggleClass('active', this.checked);
			});
			$("#start-button").click(function(){
				$("#start-button").hide();
				$("#venue-form").fadeIn();
				$(window).resize();
			});
		})
	</script>
= endblock
= block body
	<h1 style="margin-top: 10px;">Welcome</h1>
	<a id="start-button" class="button" style="width: 120px;margin-bottom: 10px;">Start</a>
	<form action="/" id="venue-form" method="POST">
		<h2 style="margin-bottom: 10px;">Select your Location</h2>
		<div class="map-container">
			<div class="search-form">
				<input type="text" value=""><a class="button">Search</a>
			</div>
			<input type="hidden" name="latitude" value="40.7143528"/>
			<input type="hidden" name="longitude" value="-74.0059731"/>
			<iframe height="100%" width="100%" frameborder="0" scrolling="no" src="/map"></iframe>
		</div>
		<div id="venue-container">
			<h2>What type of venues would you like to visit?</h2>
			<label><input type="checkbox" name="tour" value="amusement_park">Amusement Park</label>
			<label><input type="checkbox" name="tour" value="aquarium">Aquarium</label>
			<label><input type="checkbox" name="tour" value="art_gallery">Art Gallery</label>
			<label><input type="checkbox" name="tour" value="bowling_alley">Bowling Alley</label>
			<label><input type="checkbox" name="tour" value="cafe">Cafe</label>
			<label><input type="checkbox" name="tour" value="city_hall">City Hall</label>
			<label><input type="checkbox" name="tour" value="establishment">Establishment</label>
			<label><input type="checkbox" name="tour" value="library">Library</label>
			<label><input type="checkbox" name="tour" value="museum">Museum</label>
			<label><input type="checkbox" name="tour" value="night_club">Night Club</label>
			<label><input type="checkbox" name="tour" value="park">Park</label>
			<label><input type="checkbox" name="tour" value="restaurant">Restaurant</label>
			<label><input type="checkbox" name="tour" value="shopping_mall">Shopping Mall</label>
			<label><input type="checkbox" name="tour" value="store">Store</label>
			<label><input type="checkbox" name="tour" value="stadium">Stadium</label>
			<input type="submit" value="Submit" name="button" />
		</div>
	</form>
= endblock
