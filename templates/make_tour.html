= extends "layout.html"
= block title
	Choose Locations
= endblock
= block head
<head>
<script>

window.onload = function () {
    alert ("loaded");
    document.getElementById("dialog").innerHTML = "";

    for (var i=1;i<={{locLen}};i++) {
	strIt = i.toString();
	divName = "myDiv" + strIt
        var loc = JSON.parse('{{locs | tojson | safe}}');
	imgTxt = loc[i-1][5];
	phyImg = loc[i-1][3];

	var imgSc = document.getElementById(divName);
	imgSc.onclick = function () {
	    
	    document.getElementById("dialog").innerHTML = "";
	    var iDiv = document.getElementById("dialog");
	    var txtNd=document.createTextNode(imgTxt);
	    iDiv.appendChild(txtNd);

	    var imgpop = document.createElement("img");
	    imgpop.setAttribute("src", phyImg);
	    iDiv.appendChild(imgpop);

	    $("#dialog").dialog({
		modal:true, 
		height: 1000,
		width: 1000,
		buttons: {
		    Ok: function() {
			$( this ).dialog( "close" );
		    }}});
	};
    };
};

</script>

= endblock
= block body
	<h2 style="padding-top: 10px;">Select where you would like to stop during your tour (up to 3)</h2>
	= if locs
		<form class="locations-form" method="POST">
			= for loc in locs
				<div class="location-container">
					<div class="force-height"></div>
					<div class="location-content", id ={{loc[4]}} >
						<img src="{{ loc[3] }}">
						<label class="location">
							<h2>{{ loc[0] }}</h2>
							<p>{{ loc[1] }}</p>
							<p>Rating: {{ loc[2] }}</p>
							<input type="checkbox" name="place" value="{{ loc[1] }}">
						</label>
					</div>
				</div>
			= endfor
<div id="dialog" title="Basic dialog">
</div>

			<input type="submit" class="button" value="Submit" name="button" />
		</form>
	= else
		<p style="padding: 5px 0 10px;"> No locations found.</p>
	= endif
= endblock
